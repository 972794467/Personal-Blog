一、项目背景
开发直播间排行榜，实时更新主播收入礼物数据，并写入数据库，提供接口给前端页面访问。

二、遇到bug记录
1.定时脚本取数据并存储，后来发现数据异常，经排查发现是读redis存储失败导致，并且容错没有做好，导致数据异常。
2.定时脚本数据不准确，脚本设定是每分钟一跑，跑出分钟内的数据之后，将这分钟的收入数据累加到数据库中，但是定时任务的唤醒并不严格准确，
导致数据不准确。后修改为获取当天起始到脚本执行的数据，并覆盖原来的数据。

三、学到了什么
1.依赖于的服务及接口，要把出错看成常态，做好容错。
2.依赖于定时任务脚本的设计需要幂等性，同时需要不依赖于时间。
